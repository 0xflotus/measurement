"use strict";var Measurement=require("./measurement"),UnitTypes=require("./unit-types"),Unit=require("./units"),MeasurementFactory=function(){this.units={};for(var t=[{prefix:"Y",factor:24},{prefix:"Z",factor:21},{prefix:"E",factor:18},{prefix:"P",factor:15},{prefix:"T",factor:12},{prefix:"G",factor:9},{prefix:"M",factor:6},{prefix:"k",factor:3},{prefix:"h",factor:2},{prefix:"da",factor:1},{prefix:"",factor:0},{prefix:"d",factor:-1},{prefix:"c",factor:-2},{prefix:"m",factor:-3},{prefix:"u",factor:-6},{prefix:"n",factor:-9},{prefix:"p",factor:-12},{prefix:"f",factor:-15},{prefix:"a",factor:-18},{prefix:"z",factor:-21},{prefix:"y",factor:-24}],e=[{base:"g",type:UnitTypes.MASS},{base:"m",type:UnitTypes.LENGTH},{base:"l",type:UnitTypes.VOLUME},{base:"b",type:UnitTypes.MEMORY},{base:"s",type:UnitTypes.TIME}],i=0;i<e.length;i++)for(var n=e[i],r=0;r<t.length;r++){var a=t[r],s=new Unit(n.base,a.prefix,Math.pow(10,a.factor),n.type);this.addUnit(s)}var p=new Unit("in","",.0254,UnitTypes.LENGTH);this.addUnit(p);var o=new Unit("ft","",.3048,UnitTypes.LENGTH);this.addUnit(o);var U=new Unit("yd","",.9144,UnitTypes.LENGTH);this.addUnit(U);var f=new Unit("mi","",1609.34,UnitTypes.LENGTH);this.addUnit(f);var u=new Unit("au","",149597870700,UnitTypes.LENGTH);this.addUnit(u);var d=new Unit("ly","",9460730472580800,UnitTypes.LENGTH);this.addUnit(d);var y=new Unit("oz","",.0295735,UnitTypes.VOLUME);this.addUnit(y);var c=new Unit("c","",.236588,UnitTypes.VOLUME);this.addUnit(c);var h=new Unit("pt","",.473176,UnitTypes.VOLUME);this.addUnit(h);var T=new Unit("qt","",.946353,UnitTypes.VOLUME);this.addUnit(T);var v=new Unit("gal","",3.78541,UnitTypes.VOLUME);this.addUnit(v);var M=new Unit("min","",60,UnitTypes.TIME);this.addUnit(M);var m=new Unit("h","",3600,UnitTypes.TIME);this.addUnit(m),this.addUnit(m,"hr");var x=new Unit("d","",86400,UnitTypes.TIME);this.addUnit(x),Measurement.prototype.units=this.units};MeasurementFactory.prototype.measurement=function(){var t=arguments[0],e=arguments[1];if(1==arguments.length){var i=/[a-z]+/gi,n=t.search(i);e=t.substring(n),t=t.substring(0,n)}return"string"==typeof e&&(e=this.units[e]),new Measurement(t,e)},MeasurementFactory.prototype.addUnit=function(t,e){return void 0===e&&(e=t+""),void 0===this.units[e]&&(this.units[e]=t),void 0===Measurement.prototype[e]&&(Measurement.prototype[e]=function(t){return function(e){return this.as(t,e)}}(t)),void 0===this[e]&&(this[e]=function(t){return function(e){return void 0===e&&(e=1),new Measurement(e,t)}}(t)),this},MeasurementFactory.prototype.newUnit=function(){var t=function(t){return Unit.apply(this,t)};t.prototype=Unit.prototype;var e=new t(arguments);return this.addUnit(e),e},module.exports=MeasurementFactory;